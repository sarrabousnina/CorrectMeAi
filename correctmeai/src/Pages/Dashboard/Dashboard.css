/* =========================================
   Professor Dashboard â€” Classy UI Theme
   ========================================= */

/* -------- Variables -------- */
.dashboard {
    --bg-glass: rgba(255, 255, 255, 0.70);
    --bg-glass-dark: rgba(15, 17, 27, 0.65);
    --border: rgba(15, 23, 42, 0.08);
    --border-dark: rgba(255, 255, 255, 0.10);
    --shadow: 0 10px 30px -18px rgba(6, 7, 10, 0.28);
    --shadow-hover: 0 20px 50px -28px rgba(6, 7, 10, 0.35);

    --ink: #0b1020;
    --ink-soft: #6b7280;
    --ink-softer: #8a91a3;

    --primary: #2563eb;
    --accent: #8b5cf6;
    --success: #10b981;
    --danger: #ef4444;

    --radius-lg: 16px;
    --space-2: 12px;
    --space-3: 16px;
    --space-4: 20px;

    --card-halo: radial-gradient(1200px 600px at 10% -10%, rgba(99,102,241,0.08) 0%, rgba(59,130,246,0.06) 35%, rgba(234,179,8,0.06) 70%, transparent 100%);
}

@media (prefers-color-scheme: dark) {
    .dashboard {
        --bg-glass: var(--bg-glass-dark);
        --border: var(--border-dark);
        --ink: #e7e9ee;
        --ink-soft: #a3a9b8;
        --ink-softer: #9aa2b2;
        --shadow: 0 10px 28px -18px rgba(0, 0, 0, 0.6);
        --shadow-hover: 0 24px 52px -28px rgba(0, 0, 0, 0.7);
    }
}

/* -------- Root & Container -------- */
.dashboard { min-height: 100vh; padding: var(--space-3); color: var(--ink); -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; }
.dashboard .container { max-width: 1200px; margin: 0 auto; position: relative; }
.dashboard .container::before { content: ""; position: absolute; inset: -40px -20px -20px; pointer-events: none; background: var(--card-halo); filter: blur(.2px); z-index: 0; }

/* -------- Header -------- */
.header { position: relative; z-index: 1; display: flex; align-items: flex-end; justify-content: space-between; gap: var(--space-3); margin-bottom: var(--space-4); }
.title { margin: 0; font-weight: 800; letter-spacing: -0.02em; font-size: clamp(22px, 2.4vw, 28px); }
.subtitle { margin: 6px 0 0 0; color: var(--ink-soft); font-size: 13px; }

/* -------- KPI Row -------- */
.kpi-grid { position: relative; z-index: 1; display: grid; grid-template-columns: repeat(4, minmax(0, 1fr)); gap: var(--space-3); margin-bottom: var(--space-4); }
@media (max-width: 1024px){ .kpi-grid{ grid-template-columns: repeat(2, minmax(0, 1fr)); } }
@media (max-width: 560px){ .kpi-grid{ grid-template-columns: 1fr; } }

.dash-card.kpi-card { padding: var(--space-3); height: 120px; display: flex; flex-direction: column; justify-content: center; gap: 6px; }
.kpi-label { font-size: 12px; color: var(--ink-soft); }
.kpi-value { font-size: clamp(22px, 2.2vw, 26px); font-weight: 800; letter-spacing: -0.02em; background: linear-gradient(135deg, var(--ink), var(--primary)); -webkit-background-clip: text; background-clip: text; color: transparent; }
.kpi-delta { font-size: 12px; display: inline-flex; align-items: center; gap: 6px; }
.kpi-delta.up { color: var(--success); } .kpi-delta.down { color: var(--danger); }
.kpi-hint { color: var(--ink-softer); }

/* -------- Cards -------- */
.dash-card { position: relative; z-index: 1; border-radius: var(--radius-lg); border: 1px solid var(--border); background: var(--bg-glass); backdrop-filter: blur(10px); box-shadow: var(--shadow); overflow: hidden; transition: transform .18s ease, box-shadow .22s ease; }
.dash-card:hover { transform: translateY(-2px); box-shadow: var(--shadow-hover); }
.dash-card__header { padding: 12px 14px; border-bottom: 1px solid var(--border); }
.dash-card__title { margin: 0; font-weight: 700; font-size: 15px; }
.dash-card__subtitle { margin: 4px 0 0 0; font-size: 12px; color: var(--ink-soft); }

/* -------- Charts Grid -------- */
.grid { display: grid; gap: var(--space-4); grid-template-columns: repeat(3, minmax(0, 1fr)); align-items: start; }
@media (max-width: 1280px){ .grid{ grid-template-columns: repeat(2, minmax(0, 1fr)); } }
@media (max-width: 780px){ .grid{ grid-template-columns: 1fr; } }
.dash-card--wide { grid-column: span 2; }
@media (max-width: 1280px){ .dash-card--wide { grid-column: span 1; } }

/* Chart sizes */
.chart-box { height: 260px; padding: 12px; }
.chart-box.tall { height: 320px; }
.split-2 { display: grid; grid-template-columns: 1fr; }
@media (min-width: 768px){ .split-2 { grid-template-columns: 1fr 1fr; } }

/* -------- Footer -------- */
.footer-hint { margin-top: var(--space-4); text-align: center; font-size: 12px; color: var(--ink-softer); }

/* -------- Recharts polish -------- */
.recharts-default-tooltip { border-radius: 10px !important; border: 1px solid var(--border) !important; background: var(--bg-glass) !important; backdrop-filter: blur(8px); box-shadow: var(--shadow) !important; }
.recharts-cartesian-grid-horizontal line, .recharts-cartesian-grid-vertical line { stroke: rgba(0,0,0,.08); }
@media (prefers-color-scheme: dark){ .recharts-cartesian-grid-horizontal line, .recharts-cartesian-grid-vertical line { stroke: rgba(255,255,255,.12); } }

/* Guard against global leaks */
.dashboard .dash-card, .dashboard .dash-card * { min-height: unset; box-sizing: border-box; }
