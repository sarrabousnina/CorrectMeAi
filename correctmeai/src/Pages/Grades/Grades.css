:root{
    --bg: #f6f7fb;
    --card: #ffffff;
    --text: #0f172a;
    --muted: #64748b;
    --line: #e2e8f0;
    --soft: #f8fafc;
    --shadow: 0 10px 30px -12px rgba(2,6,23,.15);
    --radius-xl: 22px;
    --radius-lg: 16px;
}

/* Use the app's global gradient; make page fill the viewport */
.page.bg {
    background: transparent;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
}
.container { max-width: 1120px; margin: 0 auto; padding: 2rem 1.25rem; flex: 1; }
.page.pad { padding: 2rem; }

.text-muted { color: var(--muted); }
.text-error { color: #dc2626; }

/* ---------------- Card (stretched) ---------------- */
.card{
    /* glass + border */
    background: var(--card);
    border: 1px solid color-mix(in oklab, var(--line), transparent 10%);
    border-radius: var(--radius-xl);
    box-shadow: var(--shadow);

    /* layout: make inner content grow so the card stays tall */
    display: flex;
    flex-direction: column;

    /* >>> make the big card longer by default <<< */
    /* accounts for stepper + top spacing; tweak if needed */
    min-height: calc(100vh - 220px);

    /* ghost-artifact fixes for Chrome/WebKit when using blur + radius */
    overflow: hidden; /* clip inside rounded corners */
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    -webkit-mask-image: -webkit-radial-gradient(white, black);
    -webkit-mask-repeat: no-repeat;
    background-clip: padding-box;
}

/* header */
.title{ margin:0; color:var(--text); font-weight:700; font-size: clamp(1.4rem, 1.2rem + 1vw, 2rem); letter-spacing:-.02em; }
.meta{ margin-top:.4rem; display:grid; gap:.35rem; color:var(--muted); font-size:.95rem; }
.meta__mono{ font-family: ui-monospace, SFMono-Regular, Menlo, monospace; color:var(--text); }

.stats{ display:flex; gap:.8rem; flex-wrap:wrap; }
.stats span{ color:var(--muted); }
.stats strong{ color:var(--text); }

.grades__header{
    display:flex; gap:1rem; padding:1.25rem 1.5rem;
    border-bottom:1px solid var(--line);
    align-items:center; justify-content:space-between;
}
.grades__left{ min-width:0; }
.grades__right{ display:flex; gap:.75rem; align-items:center; flex-wrap:wrap; justify-content:flex-end; }

.input{
    min-width: 260px; height: 38px;
    border:1px solid var(--line); border-radius:12px; padding:0 .75rem;
    outline:none; background:#fff;
}
.input:focus{ border-color:#94a3b8; box-shadow:0 0 0 3px rgba(148,163,184,.25); }

/* segmented control */
.seg{ display:flex; align-items:center; background:var(--soft); border:1px solid var(--line); border-radius:12px; overflow:hidden; }
.seg__btn{
    padding:.45rem .7rem; font-weight:600; font-size:.85rem; border:0; background:transparent; cursor:pointer; color:#334155;
}
.seg__btn.is-active{ background:#e2e8f0; }

/* buttons */
.actions{ display:flex; gap:.5rem; }
.btn{ border:0; border-radius:12px; padding:.55rem .8rem; font-weight:700; cursor:pointer; }
.btn--ghost{ background:#eef2ff; color:#1e3a8a; }
.btn--primary{ background:#2563eb; color:#fff; }
.btn:hover{ filter:brightness(.98); }
.btn:active{ transform: translateY(1px); }

/* ---------------- Table (fills remaining height) ---------------- */
.table-wrap{
    flex: 1;                 /* let table area grow to fill the card */
    overflow-x: auto;
    display: block;
}
.table{ width:100%; border-collapse:separate; border-spacing:0; font-size:.95rem; min-width: 960px; }
.table thead th{
    background: var(--soft); color:#334155; text-align:left; font-weight:600;
    padding:.9rem 1rem; border-bottom:1px solid var(--line); position: sticky; top: 0; z-index: 1;
}
.table td{ padding:.85rem 1rem; border-top:1px solid var(--line); vertical-align: top; }
.table tbody tr:hover{ background:#f8fafc; cursor:pointer; }
.right{ text-align:right; }
.center{ text-align:center; }
.muted{ color: var(--muted); }
.mono{ font-family: ui-monospace, SFMono-Regular, Menlo, monospace; }
.strong{ font-weight:600; color: var(--text); }
.rowlink{ transition: background .15s ease; }

/* feedback column bigger */
.grades th:nth-child(5),
.grades td:nth-child(5) {
    width: 38%;
    min-width: 420px;
}
.feedback-cell{ line-height:1.55; color:#0b1220; word-break: break-word; }

/* percent badges */
.badge{
    display:inline-flex; align-items:center; justify-content:center;
    min-width: 54px; padding:.25rem .5rem;
    border-radius:999px; font-size:.8rem; font-weight:700;
}
.badge--neutral{ background:#e2e8f0; color:#0f172a; }
.badge--emerald{ background:#d1fae5; color:#065f46; }
.badge--green{ background:#dcfce7; color:#166534; }
.badge--amber{ background:#fef3c7; color:#92400e; }
.badge--rose{ background:#ffe4e6; color:#9f1239; }

/* small screens */
@media (max-width: 900px){
    .table{ min-width: 760px; }
    .grades__header{ align-items: flex-start; flex-direction: column; }
    .grades th:nth-child(5), .grades td:nth-child(5){ width: auto; min-width: 280px; }

    /* on short viewports, let height relax so it doesn't over-constrain */
    .card{ min-height: calc(100vh - 180px); }
}

/* print */
@media print{
    body{ background:#fff !important; }
    .btn, .seg, .input, .actions, .no-print{ display:none !important; }
    .card{ box-shadow:none; border:0; min-height:auto; }
}
